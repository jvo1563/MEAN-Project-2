<main>
    <table>
        <thead>
            <tr>
                <th>Report</th>
                <th>Created By</th>
                <th>Assigned To</th>
                <th>Title</th>
                <th>Location</th>
                <th>Category</th>
                <th>Created At</th>
                <th>Updated At</th>
                <th>Status</th>
            </tr>
        </thead>

        <tbody>
            @for(report of reports; track $index){
                <tr>
                    <td>{{report.id}}</td>
                    @if(report.created_by !== 0){
                        <td>{{report.created_by}}</td>
                    }
                    @else{
                        <td>NA</td>
                    }
                    @if(report.assigned_to !== 0){
                        <td>{{report.assigned_to}}</td>
                    }
                    @else{
                        <td>NA</td>
                    }
                    <td>{{report.title}}</td>
                    <td>{{report.location}}</td>
                    <td>{{findCategory(report.category_id)}}</td>
                    <td>{{report.created_at}}</td>
                    <td>{{report.updated_at}}</td>
                    <td>{{findStatus(report.status_id)}}</td>
                    <button type="button" (click)="reportDetails(report.id)">Report Details</button>
                    @if(user.userRole === 'admin'){
                        <button type="button" (click)="deleteReport(report.id)">Delete</button>
                    }
                </tr>
            }
        </tbody>
    </table>
</main>
